[O-Scene]
Pivot           = center
Size            = (1920, 1080, 1)
TrackList       = TT-StoreScene
;Data
Transitions     = O-ToSceneRed # O-ToSceneYellow # O-ToSceneGreen # O-ToSceneCyan # O-ToSceneBlue

[O-SceneMain@O-Scene]
ChildList       = O-MainMenu

[TT-StoreScene]
0               = Set Runtime O-Scene ^

[TT-SetColor]
0               = > Object.GetOwner ^, > Object.GetName <, > Get < HSLTint, Object.SetHSL ^ <

[O-SceneRed@O-Scene]
;Data
HSLTint         = (0, 0.95, 0.55)

[O-SceneYellow@O-Scene]
;Data
HSLTint         = (0.17, 0.95, 0.55)

[O-SceneGreen@O-Scene]
;Data
HSLTint         = (0.33, 0.95, 0.55)

[O-SceneCyan@O-Scene]
;Data
HSLTint         = (0.5, 0.95, 0.55)

[O-SceneBlue@O-Scene]
;Data
HSLTint         = (0.66, 0.95, 0.55)

[O-ToScene]
LifeTime        = track
TrackList       = @

[O-ToSceneRed@O-ToScene]
0               = > Get Runtime O-Scene, Object.Delete <, Object.Create O-SceneRed

[O-ToSceneYellow@O-ToScene]
0               = > Get Runtime O-Scene, Object.AddTrack < TT-MoveOut, > Object.Create O-SceneYellow, Object.AddTrack < TT-MoveIn

[TT-MoveOut]
0               = Object.SetLifeTime ^ fx, Object.AddFX ^ FX-ScrollLeft

[TT-MoveIn]
0               = Object.SetPosition ^ (-1280, 0)
0.6             = Object.AddFX ^ FX-ScrollRight

[FX-ScrollLeft]
SlotList        = @
Type            = position
Curve           = smooth
StartTime       = 0
EndTime         = 0.5
StartValue      = (0, 0)
EndValue        = (-1280, 0)

[FX-ScrollRight@FX-ScrollLeft]
EndValue        = (1280, 0)

[O-ToSceneGreen@O-ToScene]
0               = Object.Create O-Fade
0.5             = > Get Runtime O-Scene, Object.Delete <, > Object.Create O-SceneGreen

[O-Fade]
Group           = fade
LifeTime        = fx
ParentCamera    = MainCamera
Scale           = 1
Position        = (0, 0, 0)
Pivot           = center
Graphic         = @
Texture         = pixel
Color           = (0, 0, 0)
Alpha           = 0
FXList          = @
SlotList        = FXS-FadeIn # FXS-FadeOut

[FXS-FadeIn]
Type            = alpha
Curve           = smooth
StartValue      = 0
EndValue        = 1
StartTime       = 0
EndTime         = 0.4

[FXS-FadeOut@FXS-FadeIn]
EndValue        = -1
StartTime       = 0.6
EndTime         = 1

[O-ToSceneCyan@ToScene]
0               = > Get Runtime O-Scene, Object.AddTrack < TT-SpiraleOutTrack, > Object.Create O-SceneCyan, Object.AddTrack < TT-SpiraleInTrack

[TT-SpiraleOutTrack]
0               = Object.SetLifeTime ^ fx, Object.AddFX ^ FX-SpiraleOutFX

[FX-SpiraleOutFX]
SlotList        = FXS-ScaleDown # FXS-RotateCCW

[TT-SpiraleInTrack]
0               = Object.SetScale ^ 0.00001
1.2             = Object.AddFX ^ FX-SpiraleInFX

[FX-SpiraleInFX]
SlotList        = FXS-ScaleUp # FXS-RotateCW

[FXS-ScaleDown]
Type            = Scale
Curve           = linear
StartTime       = 0
EndTime         = 0.5
StartValue      = 1
EndValue        = 0.00001

[FXS-RotateCCW]
Type            = Rotation
Curve           = linear
StartTime       = 0
EndTime         = 0.5
StartValue      = 0
EndValue        = -720

[FXS-ScaleUp@FXS-ScaleDown]
EndValue        = 100000

[FXS-RotateCW@FXS-RotateCCW]
EndValue        = 720

[O-ToSceneBlue@O-ToScene]
0               = >> Get Runtime O-Scene, Set Runtime Out <, Object.SetPosition < (0, 0, 200) #
                  >  Object.Create O-SceneBlue, Object.SetPosition < (0, 0, 100) #
                  >  Viewport.Get MainViewport, Viewport.Delete <, Viewport.Create V-ViewportIn, Viewport.Create V-ViewportOut, Viewport.Create MainViewport #
                  >  Object.Create O-SceneDissolve, Object.SetOwner < ^
0.8             = >  Viewport.Get V-ViewportIn, Viewport.Delete <, > Viewport.Get V-ViewportOut, Viewport.Delete < #
                  >  Get Runtime Out, Object.Delete <, > Get Runtime O-Scene, Object.SetPosition < (0, 0, 0)

[O-SceneDissolve]
Graphic         = @
Texture         = pixel
Pivot           = center
ParentCamera    = MainCamera
UseParentSpace  = both
Scale           = 1
ShaderList      = @
Code            = "
float random(vec2 v)
{
  return fract(sin(dot(v.xy, vec2(12.9898, 78.233))) * 43758.5453);
}
void main()
{
  vec2 coord    = vec2(gl_FragCoord.x / res.x, 1.0 - gl_FragCoord.y / res.y);
  gl_FragColor  = mix(texture2D(tex_out, coord), texture2D(tex_in, coord), step(random(coord), time / 0.8f));
}
"
UseCustomParam  = true
ParamList       = tex_in # tex_out # time # res
tex_in          = TextureIn
tex_out         = TextureOut
res             = % Get Display FramebufferSize
time            = time

[V-ViewportIn]
Camera          = CA-CameraIn
TextureList     = TextureIn

[CA-CameraIn@MainCamera]
Position        = (0, 0, 100)

[V-ViewportOut]
Camera          = CA-CameraOut
TextureList     = TextureOut

[CA-CameraOut@MainCamera]
Position        = (0, 0, 200)